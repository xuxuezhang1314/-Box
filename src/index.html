<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#0a0a0a">
  <title>云box</title>
  <link rel="stylesheet" href="./css/home.css">
</head>
<body>

  <!-- 状态栏占位（刘海屏适配） -->
  <div class="status-bar-safe"></div>

  <!-- 顶部信息栏 -->
  <div class="top-bar">
    <div class="sys-info left">
      <span id="clock">00:00</span>
      <span class="battery" id="battery">100%</span>
    </div>
    <div class="sys-info right">
      <span>云box</span>
      <span class="network" id="network">5G</span>
    </div>
  </div>

  <!-- 主内容区 -->
  <div class="main-container" id="main-container">
    
    <!-- 主页视图 -->
    <div class="home-view" id="home-view">
      <div class="logo-section">
        <div class="cloud-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M6 18h12a4 4 0 0 0 0-8h-1.5a5.5 5.5 0 0 0-11 0H6a4 4 0 0 0 0 8z"/>
            <path d="M8 10l2-3 2 3 2-2 2 2" stroke-opacity="0.3"/>
          </svg>
        </div>
        <h1 class="app-title">云box</h1>
        <p class="app-subtitle">极简浏览器</p>
      </div>

      <div class="search-section">
        <div class="search-box">
          <input type="text" 
                 id="search-input" 
                 placeholder="搜索或输入网址..." 
                 autocomplete="off" 
                 autocorrect="off"
                 autocapitalize="off"
                 spellcheck="false">
          <button class="search-btn" id="search-btn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
              <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
          </button>
        </div>
        
        <!-- 快速搜索建议 -->
        <div class="search-suggestions" id="search-suggestions"></div>
      </div>

      <!-- 快捷方式网格 -->
      <div class="shortcuts-grid" id="shortcuts-grid">
        <!-- 动态生成 -->
      </div>

      <!-- 滑动提示 -->
      <div class="swipe-hint">
        <span>上滑查看标签页</span>
        <div class="swipe-line"></div>
      </div>
    </div>

    <!-- 网页视图 -->
    <div class="web-view" id="web-view">
      <div class="web-header">
        <button class="nav-btn back" id="web-back">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 12H5M12 19l-7-7 7-7"/>
          </svg>
        </button>
        <div class="address-bar" id="address-bar">about:blank</div>
        <button class="nav-btn menu" id="web-menu">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="5" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="12" cy="19" r="1"/>
          </svg>
        </button>
      </div>
      <div class="web-content" id="web-content">
        <!-- iframe 或 InAppBrowser -->
      </div>
      <div class="web-toolbar">
        <button class="tool-btn" id="btn-go-back">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 12H5M12 19l-7-7 7-7"/>
          </svg>
        </button>
        <button class="tool-btn" id="btn-go-forward">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M5 12h14M12 5l7 7-7 7"/>
          </svg>
        </button>
        <button class="tool-btn" id="btn-reload">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M23 4v6h-6M1 20v-6h6M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
          </svg>
        </button>
        <button class="tool-btn home" id="btn-home">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
            <polyline points="9 22 9 12 15 12 15 22"/>
          </svg>
        </button>
        <button class="tool-btn" id="btn-tabs">
          <span class="tab-count" id="tab-count">1</span>
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
            <line x1="3" y1="9" x2="21" y2="9"/>
            <line x1="9" y1="21" x2="9" y2="9"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- 标签页管理器（底部滑出） -->
    <div class="tabs-drawer" id="tabs-drawer">
      <div class="drawer-handle">
        <div class="handle-bar"></div>
      </div>
      <div class="tabs-header">
        <h3>标签页</h3>
        <button class="btn-done" id="btn-done">完成</button>
      </div>
      <div class="tabs-list" id="tabs-list">
        <!-- 动态生成 -->
      </div>
      <div class="tabs-actions">
        <button class="btn-new-tab" id="btn-new-tab">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
          </svg>
          新建标签页
        </button>
      </div>
    </div>

  </div>

  <!-- 底部导航栏（主页模式） -->
  <div class="bottom-nav" id="bottom-nav">
    <button class="nav-item" id="nav-home">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
        <polyline points="9 22 9 12 15 12 15 22"/>
      </svg>
      <span>主页</span>
    </button>
    <button class="nav-item" id="nav-tabs">
      <div class="tab-badge" id="tab-badge">1</div>
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
        <line x1="3" y1="9" x2="21" y2="9"/>
      </svg>
      <span>标签页</span>
    </button>
    <button class="nav-item" id="nav-menu">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="3"/>
        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
      </svg>
      <span>设置</span>
    </button>
  </div>

  <!-- 设置面板（全屏模态） -->
  <div class="settings-modal" id="settings-modal">
    <div class="settings-header">
      <button class="btn-close" id="btn-close-settings">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
      </button>
      <h2>设置</h2>
      <div class="placeholder"></div>
    </div>
    <div class="settings-content">
      <div class="setting-group">
        <h3>搜索引擎</h3>
        <div class="setting-options" id="engine-options">
          <label class="radio-item">
            <input type="radio" name="engine" value="https://www.google.com/search?q=" checked>
            <span>Google</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="engine" value="https://www.bing.com/search?q=">
            <span>Bing</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="engine" value="https://duckduckgo.com/?q=">
            <span>DuckDuckGo</span>
          </label>
        </div>
      </div>
      
      <div class="setting-group">
        <h3>快捷方式</h3>
        <div class="shortcuts-manage" id="shortcuts-manage">
          <!-- 动态生成 -->
        </div>
        <button class="btn-add" id="btn-add-shortcut">+ 添加快捷方式</button>
      </div>

      <div class="setting-group">
        <h3>关于</h3>
        <div class="about-info">
          <div class="app-icon">☁️</div>
          <div class="app-name">云box</div>
          <div class="app-version">Version 1.0.0</div>
          <p class="app-desc">极简可定制的移动端浏览器</p>
        </div>
      </div>
    </div>
  </div>

  <!-- 遮罩层 -->
  <div class="overlay" id="overlay"></div>

  <!-- 提示消息 -->
  <div class="toast" id="toast"></div>

  <script type="module" src="./js/home.js"></script>
</body>
</html>

